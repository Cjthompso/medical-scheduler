import{a as ot,b as rt,c as lt,d as dt}from"./chunk-LT3BUY3X.js";import"./chunk-Y5T5XKH6.js";import"./chunk-637VYRYX.js";import{a as G,b as K,c as Q,d as R,e as X,f as Z,g as tt,k as et,l as nt,m as at,n as it}from"./chunk-ATFH3KBJ.js";import{$a as f,$b as U,Ab as $,Ba as o,Ca as E,Cb as j,Cd as V,Dd as Y,Ed as W,Fd as H,Gd as J,Hd as q,Sa as g,Ua as y,Wa as F,Xa as b,Za as u,_a as I,ab as x,bb as e,cb as n,db as A,ha as O,hb as z,kb as _,mb as m,oa as w,pa as T,sd as L,ub as i,vb as p,wb as h,xb as D,yb as N,za as k,zb as B}from"./chunk-BH7UMNK4.js";var P=(a,l)=>l.id,ct=(a,l)=>l.date.toISOString();function mt(a,l){if(a&1&&(e(0,"mat-option",8),i(1),n()),a&2){let t=l.$implicit;y("value",t.id),o(),h("Dr. ",t.lastName,"")}}function st(a,l){if(a&1&&(e(0,"div",17),i(1),n()),a&2){let t=l.$implicit;o(),p(t)}}function gt(a,l){if(a&1&&(e(0,"div",26)(1,"span",27),i(2),n(),e(3,"span",28),i(4),n()()),a&2){let t=l.$implicit,r=m(3);b("status-"+t.status),y("matTooltip",(t.patient==null?null:t.patient.firstName)+" "+(t.patient==null?null:t.patient.lastName)+" - "+r.formatTime(t.dateTime)),o(2),p(r.formatTimeShort(t.dateTime)),o(2),p(t.patient==null?null:t.patient.lastName)}}function ut(a,l){if(a&1&&(e(0,"div",25),i(1),n()),a&2){let t=m(2).$implicit;o(),h(" +",t.appointments.length-3," more ")}}function ft(a,l){if(a&1&&(e(0,"div",23),f(1,gt,5,5,"div",24,P),g(3,ut,2,1,"div",25),n()),a&2){let t=m().$implicit;o(),x(t.appointments.slice(0,3)),o(2),u(3,t.appointments.length>3?3:-1)}}function xt(a,l){if(a&1){let t=z();e(0,"div",21),_("click",function(){let d=w(t).$implicit,c=m();return T(c.selectDate(d.date))}),e(1,"span",22),i(2),n(),g(3,ft,4,1,"div",23),n()}if(a&2){let t=l.$implicit;F("other-month",!t.isCurrentMonth)("today",t.isToday)("has-appointments",t.appointments.length>0),o(2),p(t.date.getDate()),o(),u(3,t.appointments.length>0?3:-1)}}function _t(a,l){a&1&&(e(0,"button",43)(1,"mat-icon"),i(2,"videocam"),n()())}function ht(a,l){if(a&1&&(e(0,"div",30)(1,"div",31)(2,"span",32),i(3),n(),e(4,"span",33),i(5),n()(),e(6,"div",34)(7,"div",35)(8,"span",36),i(9),n(),e(10,"mat-chip",37),i(11),n()(),e(12,"span",38),i(13),n(),e(14,"span",39),i(15),n(),e(16,"div",40),A(17,"img",41),e(18,"span"),i(19),n()()(),e(20,"div",42),g(21,_t,3,0,"button",43),e(22,"button",44)(23,"mat-icon"),i(24,"edit"),n()(),e(25,"button",45)(26,"mat-icon"),i(27,"more_vert"),n()()()()),a&2){let t=l.$implicit,r=m(3);o(3),p(r.formatTime(t.dateTime)),o(2),p(r.formatTime(t.endTime)),o(4),D("",t.patient==null?null:t.patient.firstName," ",t.patient==null?null:t.patient.lastName,""),o(),b("status-chip "+t.status),o(),h(" ",r.formatStatus(t.status)," "),o(2),p(r.formatType(t.type)),o(2),p(t.reason),o(2),y("src",t.provider==null?null:t.provider.avatar,k)("alt",t.provider==null?null:t.provider.lastName),o(2),D("Dr. ",t.provider==null?null:t.provider.firstName," ",t.provider==null?null:t.provider.lastName,""),o(2),u(21,t.isVirtual?21:-1)}}function Ct(a,l){if(a&1&&(e(0,"div",29),f(1,ht,28,14,"div",30,P),n()),a&2){let t=m(2);o(),x(t.selectedDayAppointments)}}function vt(a,l){a&1&&(e(0,"div",46)(1,"mat-icon"),i(2,"event_available"),n(),e(3,"span"),i(4,"No appointments on this day"),n(),e(5,"button",47)(6,"mat-icon"),i(7,"add"),n(),i(8," Schedule Appointment "),n()())}function yt(a,l){if(a&1&&(e(0,"mat-card",20)(1,"mat-card-header")(2,"mat-card-title"),i(3),n(),e(4,"mat-card-subtitle"),i(5),n()(),e(6,"mat-card-content"),g(7,Ct,3,0,"div",29)(8,vt,9,0),n()()),a&2){let t=m();o(3),p(t.formatSelectedDate()),o(2),h("",t.selectedDayAppointments.length," appointments"),o(2),u(7,t.selectedDayAppointments.length>0?7:8)}}var Ut=(()=>{class a{constructor(t){this.mockData=t,this.weekdays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.calendarDays=[],this.currentDate=new Date,this.selectedDate=null,this.selectedDayAppointments=[],this.providers=[],this.selectedProvider="all",this.allAppointments=[]}ngOnInit(){this.providers=this.mockData.getProviders(),this.allAppointments=this.mockData.getAppointments(),this.generateCalendar(),this.selectDate(new Date)}get currentMonthYear(){return this.currentDate.toLocaleDateString("en-US",{month:"long",year:"numeric"})}generateCalendar(){let t=this.currentDate.getFullYear(),r=this.currentDate.getMonth(),d=new Date(t,r,1),c=new Date(t,r+1,0),s=new Date(d);s.setDate(s.getDate()-d.getDay());let M=new Date(c);M.setDate(M.getDate()+(6-c.getDay())),this.calendarDays=[];let S=new Date;S.setHours(0,0,0,0);let C=new Date(s);for(;C<=M;){let v=new Date(C),pt=this.getFilteredAppointments(v);this.calendarDays.push({date:v,isCurrentMonth:v.getMonth()===r,isToday:v.getTime()===S.getTime(),appointments:pt}),C.setDate(C.getDate()+1)}}getFilteredAppointments(t){let r=this.mockData.getAppointmentsByDate(t);return this.selectedProvider!=="all"&&(r=r.filter(d=>d.providerId===this.selectedProvider)),r}filterByProvider(){this.generateCalendar(),this.selectedDate&&(this.selectedDayAppointments=this.getFilteredAppointments(this.selectedDate))}previousMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-1,1),this.generateCalendar()}nextMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1,1),this.generateCalendar()}goToToday(){this.currentDate=new Date,this.generateCalendar(),this.selectDate(new Date)}selectDate(t){this.selectedDate=t,this.selectedDayAppointments=this.getFilteredAppointments(t)}formatSelectedDate(){return this.selectedDate?this.selectedDate.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}):""}formatTime(t){return new Date(t).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}formatTimeShort(t){return new Date(t).toLocaleTimeString("en-US",{hour:"numeric",hour12:!0}).replace(" ","")}formatType(t){return t.split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}formatStatus(t){return t.split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}static{this.\u0275fac=function(r){return new(r||a)(E(q))}}static{this.\u0275cmp=O({type:a,selectors:[["app-calendar"]],standalone:!0,features:[j],decls:40,vars:3,consts:[[1,"calendar-page"],[1,"calendar-header"],[1,"header-left"],[1,"subtitle"],[1,"header-right"],["appearance","outline",1,"provider-select"],[3,"valueChange","selectionChange","value"],["value","all"],[3,"value"],["mat-raised-button","","color","primary",1,"new-apt-btn"],[1,"calendar-card"],[1,"calendar-nav"],["mat-icon-button","",3,"click"],[1,"month-year"],["mat-stroked-button","",1,"today-btn",3,"click"],[1,"calendar-grid"],[1,"weekday-header"],[1,"weekday"],[1,"days-grid"],[1,"calendar-day",3,"other-month","today","has-appointments"],[1,"day-details-card"],[1,"calendar-day",3,"click"],[1,"day-number"],[1,"day-appointments"],[1,"mini-appointment",3,"class","matTooltip"],[1,"more-appointments"],[1,"mini-appointment",3,"matTooltip"],[1,"apt-time"],[1,"apt-name"],[1,"appointments-list"],[1,"appointment-item"],[1,"apt-time-block"],[1,"apt-start"],[1,"apt-end"],[1,"apt-details"],[1,"apt-header"],[1,"apt-patient"],["size","small"],[1,"apt-type"],[1,"apt-reason"],[1,"apt-provider"],[1,"provider-avatar",3,"src","alt"],[1,"apt-actions"],["mat-icon-button","","color","primary","matTooltip","Join Video Call"],["mat-icon-button","","matTooltip","Edit"],["mat-icon-button","","matTooltip","More Options"],[1,"no-appointments"],["mat-stroked-button","","color","primary"]],template:function(r,d){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),i(4,"Calendar"),n(),e(5,"p",3),i(6,"Manage appointments and schedules"),n()(),e(7,"div",4)(8,"mat-form-field",5)(9,"mat-label"),i(10,"Filter by Provider"),n(),e(11,"mat-select",6),$("valueChange",function(s){return B(d.selectedProvider,s)||(d.selectedProvider=s),s}),_("selectionChange",function(){return d.filterByProvider()}),e(12,"mat-option",7),i(13,"All Providers"),n(),f(14,mt,2,2,"mat-option",8,P),n()(),e(16,"button",9)(17,"mat-icon"),i(18,"add"),n(),i(19," New Appointment "),n()()(),e(20,"mat-card",10)(21,"div",11)(22,"button",12),_("click",function(){return d.previousMonth()}),e(23,"mat-icon"),i(24,"chevron_left"),n()(),e(25,"h2",13),i(26),n(),e(27,"button",12),_("click",function(){return d.nextMonth()}),e(28,"mat-icon"),i(29,"chevron_right"),n()(),e(30,"button",14),_("click",function(){return d.goToToday()}),i(31,"Today"),n()(),e(32,"div",15)(33,"div",16),f(34,st,2,1,"div",17,I),n(),e(36,"div",18),f(37,xt,4,8,"div",19,ct),n()()(),g(39,yt,9,3,"mat-card",20),n()),r&2&&(o(11),N("value",d.selectedProvider),o(3),x(d.providers),o(12),p(d.currentMonthYear),o(8),x(d.weekdays),o(3),x(d.calendarDays),o(2),u(39,d.selectedDate?39:-1))},dependencies:[U,Z,G,Q,X,R,K,Y,V,J,W,H,rt,et,tt,ot,L,nt,it,at,dt,lt],styles:[".calendar-page[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px;flex-wrap:wrap;gap:16px}.calendar-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:600;color:#1e293b}.subtitle[_ngcontent-%COMP%]{color:#64748b;margin-top:4px}.header-right[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.provider-select[_ngcontent-%COMP%]{width:200px}.new-apt-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a365d,#2c5282)}.calendar-card[_ngcontent-%COMP%]{border-radius:12px;border:1px solid #e2e8f0;margin-bottom:24px}.calendar-nav[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px 20px;border-bottom:1px solid #e2e8f0;gap:8px}.month-year[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#1e293b;min-width:200px;text-align:center}.today-btn[_ngcontent-%COMP%]{margin-left:auto}.calendar-grid[_ngcontent-%COMP%]{padding:16px}.weekday-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;margin-bottom:8px}.weekday[_ngcontent-%COMP%]{text-align:center;font-weight:600;color:#64748b;font-size:13px;padding:8px}.days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:4px}.calendar-day[_ngcontent-%COMP%]{min-height:100px;padding:8px;border:1px solid #e2e8f0;border-radius:8px;cursor:pointer;transition:all .2s ease;background:#fff}.calendar-day[_ngcontent-%COMP%]:hover{border-color:#3182ce;box-shadow:0 2px 8px #3182ce26}.calendar-day.other-month[_ngcontent-%COMP%]{background:#f8fafc;opacity:.6}.calendar-day.today[_ngcontent-%COMP%]{border-color:#1a365d;background:#f0f9ff}.calendar-day.today[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{background:#1a365d;color:#fff;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center}.day-number[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;font-size:14px;margin-bottom:4px}.day-appointments[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.mini-appointment[_ngcontent-%COMP%]{font-size:11px;padding:2px 6px;border-radius:4px;display:flex;gap:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mini-appointment.status-scheduled[_ngcontent-%COMP%]{background:#dbeafe;color:#1d4ed8}.mini-appointment.status-confirmed[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.mini-appointment.status-checked-in[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.mini-appointment.status-in-progress[_ngcontent-%COMP%]{background:#e0e7ff;color:#4338ca}.mini-appointment.status-completed[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.mini-appointment.status-cancelled[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.apt-time[_ngcontent-%COMP%]{font-weight:600}.apt-name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.more-appointments[_ngcontent-%COMP%]{font-size:11px;color:#64748b;text-align:center;padding:2px}.day-details-card[_ngcontent-%COMP%]{border-radius:12px;border:1px solid #e2e8f0}.appointments-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.appointment-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 1fr auto;gap:16px;padding:16px;background:#f8fafc;border-radius:8px;transition:all .2s ease}.appointment-item[_ngcontent-%COMP%]:hover{background:#f1f5f9}.apt-time-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:8px;background:#fff;border-radius:8px;border:1px solid #e2e8f0}.apt-start[_ngcontent-%COMP%]{font-weight:600;color:#1e293b}.apt-end[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.apt-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.apt-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.apt-patient[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;font-size:16px}.status-chip[_ngcontent-%COMP%]{font-size:11px;height:24px}.status-chip.scheduled[_ngcontent-%COMP%]{background:#dbeafe;color:#1d4ed8}.status-chip.confirmed[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.status-chip.checked-in[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.status-chip.in-progress[_ngcontent-%COMP%]{background:#e0e7ff;color:#4338ca}.apt-type[_ngcontent-%COMP%]{font-size:13px;color:#1a365d;font-weight:500}.apt-reason[_ngcontent-%COMP%]{font-size:13px;color:#64748b}.apt-provider[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:4px;font-size:13px;color:#64748b}.provider-avatar[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;object-fit:cover}.apt-actions[_ngcontent-%COMP%]{display:flex;gap:4px;align-items:flex-start}.no-appointments[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;color:#94a3b8;gap:12px}.no-appointments[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}@media (max-width: 768px){.calendar-day[_ngcontent-%COMP%]{min-height:60px;padding:4px}.mini-appointment[_ngcontent-%COMP%]{font-size:10px;padding:1px 4px}.apt-name[_ngcontent-%COMP%]{display:none}}"]})}}return a})();export{Ut as CalendarComponent};
